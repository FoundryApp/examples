# An array of glob patterns for files that should be ignored.
# If the array is changed, the CLI must be restarted for it to take the effect
ignore:
  - node_modules # Skip the whole node_modules directory
  - .git # Skip the whole .git directory
  - "**/.*" # Skip all hidden files
  - "**/*~" # Skip vim's temp files

serviceAcc: exampleServiceAcc.json

users:
  - getFromProd: ['jcMG7Nw4SScjvfcu7wNHkhF9o1z2']
  - id: user-1
    data: '{"email":"configUser1@email.com"}'
  - id: user-2
    data: '{"email":"configUser2@email.com"}'

firestore:
  - collection: workspaces
    docs:
      - getFromProd: ['Rqpfrbtvm9l4Wz37Ncn3','YcwSlcfmbZ5qkzjMPQBp']
      - id: workspace-1
        data: '{"name":"Hobbies", "owner":"user-1"}'
      - id: workspace-2
        data: '{"name":"Side Projects", "owner":"user-2", "members":["user-1"]}'

  - collection: userInfos
    docs:
      - getFromProd: ['jcMG7Nw4SScjvfcu7wNHkhF9o1z2']
      - id: user-1
        data: '{"tier":"paid", "slackName":"EHanzo"}'
      - id: user-2
        data: '{"tier":"free", "slackName":"JSmith"}'

# An array of Firebase functions that should be evaluated by Foundry. All these functions must be exported in your root index.js
functions:
  - name: notifyMembersInNewWorkspace
    type: firestore
    trigger: onCreate
    createDoc:
      getFromProd:
        id: PogbRXnkhUN3NA8X8KCu
        collection: workspaces

  - name: notifyMembersAddedToWorkspace
    type: firestore
    trigger: onUpdate
    updateDoc:
      id: workspace-1
      collection: workspaces
      data: '{"members":["user-2"]}'

  - name: notifyMembersInDeletedWorkspace
    type: firestore
    trigger: onDelete
    deleteDoc:
      id: workspace-2
      collection: workspaces